# 重複的程式碼

## 提煉函式

* 不同函式裡面包含相同的區塊，這個區塊應該被提煉出來重複使用，嘗試「提煉函式」（Extract Method）

這是最簡單的改善方式之一。當你看到不同的函式有相同的程式碼時，最先能做的事情就是將這個函式依據邏輯拆分成不同的段落，並將不同的段落放在獨立的函式裡面。

這樣做的好處是

## 提煉類別

* 如果是在兩個不同的類別裡面，出現重複的程式碼，嘗試「提煉類別」（Extract Class）

以網頁的 MVC 框架裡面，比較常見的狀況是在不同的 controller 裡面，出現功能相同的程式碼。

要解決這個問題，一個常見的做法是引入 Service 結構。由各種不同的 Service 處理不同的邏輯。

引入了 Service 結構之後，controller 實作的邏輯就會分別使用這些 service。相似的程式碼就會被提取在這些 service 裡面了。

## 函式上移

* 繼承同一個父類別的物件，有相同的函式，這時候應該將該函式移動到父類別，嘗試「函式上移」（Pull Up Method）

## 塑造樣板模式

* 繼承同一個父類別的物件，有結構相似但是內容不太相同的函式，這時應該將不同的部分實作於獨立的函式。結構的部分就可以移動到父類別上面，嘗試「塑造樣板模式」（Form Template Method）



